<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.zippy.common.mapper.CommonMapper">
	<!-- 찜 추가 -->
	<insert id="addWish" parameterType="BookmarkVO">
		<selectKey keyProperty="bookmarkNo" order="BEFORE"
			resultType="int">
			SELECT NVL(MAX(bookmark_no),0) +1 AS bookmarkNo
			FROM bookmark
		</selectKey>
		INSERT INTO bookmark
		(
		bookmark_no,
		email,
		service_type,
		service_id
		)
		VALUES
		(
		#{bookmarkNo}
		,#{email}
		,#{serviceType}
		,#{serviceId}
		)
	</insert>
	
	<delete id="delWish" parameterType="BookmarkVO">
		DELETE 
		FROM bookmark
		WHERE bookmark_no = #{bNo}
	</delete>
	
	<select id="getWishOne" resultType="BookmarkVO" parameterType="hashmap">
		SELECT * 
		FROM bookmark
		WHERE service_id = #{sId}
		AND email = #{email}
	</select>
</mapper>